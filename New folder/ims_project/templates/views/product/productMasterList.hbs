<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.20/dist/sweetalert2.min.css">
</head>

<body id="body-pd">
    {{>side}}
    <div class="col-md-12 row-md-5 mx-0 main_container " style="padding-right:0px; margin-top:100px">
        <div class="row-md-4 subtitle d-flex justify-content-between m-4 align-items-center">
            <div class="block">
                <h4 class="flex-grow-1 " style="font-size: 29px;">Product Master List
            </div>
            <button type="button" class="btn btn-light btn-md  text-light h-25"
                style="background-color: #ff9f43;font-weight:500"><a href="/product"
                    style="text-decoration: none;color:white">+ Add New Product</a></button>
        </div>

        <div class="container col-md-12" style="padding-right:24px">
            <div class="input-group py-2">
                <div class="form-inline d-flex">
                </div>

            </div>


            <div class="container-table pt-2 p-0 mt-4 table-responsive" style="max-height: 400px;">
                <form>
                    <table class="table" id="product_table">
                        <thead>
                            <tr>
                                {{!-- <th scope="col ">Product ID</th> --}}
                                <th scope="col ">Product Name</th>
                                <th scope="col ">Description</th>
                                <th scope="col ">Image</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </form>
            </div>
        </div>

    </div>

    <script>
        function showSection(section) {
            const sections = ['general', 'sale', 'text', 'packaging'];

            sections.forEach(function (sec) {
                document.getElementById(sec).style.display = 'none';
            });

            document.getElementById(section).style.display = 'block';
        }
    </script>
    <script>

        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>

    <script>
    $(document).ready(function(){

        const dataTable = $('#product_table').DataTable({
            'processing': true,
            'serverSide': true,
            'serverMethod': 'get',
            'ajax': {
                'url': '/productsMasterList'
            },
            'aaSorting': [],
            'columns': [
                { data: 'itemName' },
                { data: 'description' },
                {
                    data: 'imageUrl',
                    "render": function (data) {
                        return `<img src="public/uploads/${data}"style="width:100px; height:100px"">`;
                    }
                },
                {
                    data: "itemId",
                    'render': function (data, type, row) {
                        return "<a href='/updateProduct/" + data + "'>EDIT</a>";
                    }
                }
            ]
        });

    });
</script>

</body>

</html>