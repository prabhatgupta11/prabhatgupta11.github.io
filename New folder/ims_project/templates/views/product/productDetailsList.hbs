<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.20/dist/sweetalert2.min.css">
</head>

<body id="body-pd">
    {{>side}}
    <div class="col-md-12 row-md-5 mx-0 main_container " style="padding-right:0px; margin-top:100px">
        <div class="row-md-4 subtitle d-flex justify-content-between m-4 align-items-center">
            <div class="block">
                <h4 class="flex-grow-1 " style="font-size: 29px;">Product List
            </div>
            <button type="button" class="btn btn-light btn-md  text-light h-25"
                style="background-color: #ff9f43;font-weight:500"><a href="/product"
                    style="text-decoration: none;color:white">+ Add New Product</a></button>
        </div>

        <div class="container col-md-12" style="padding-right:24px">
            <div class="input-group py-2">
                <div class="form-inline d-flex">
                    {{!-- <i class="fa-solid fa-filter d-flex justify-content-center align-items-center"
                        style="font-size: 24px;color:orange"></i> --}}
                    {{!-- <div class="form-outline">
                        <input id="search-input" type="search" id="form1" name="form1"
                            class="form-control border text-dark" placeholder="Search..."
                            style="border-radius: 20px 0 0 20px;" />
                    </div> --}}
                    {{!-- <button id="search-button" type="submit" class="btn btn-dark"
                        style="border-radius: 0 20px 20px 0;">
                        <i class="fas fa-search "></i>
                    </button> --}}
                </div>

            </div>


            <div class="container-table pt-2 p-0 mt-4 table-responsive" style="max-height: 400px;">
                <form>
                    <table class="table" id="product_table">
                        <thead>
                            <tr>
                                {{!-- <th scope="col"><i class="fa-regular fa-square-check"></i></th>
                                <th scope="col"><input class="form-check-input border-2" type="checkbox" value=""
                                        id="flexCheckDefault"></th> --}}
                                <th scope="col ">Product Name</th>
                                <th scope="col ">Store</th>
                                <th scope="col ">Stock</th>
                                <th scope="col ">Price</th>
                                <th scope="col ">MRP</th>
                                <th scope="col ">Category 1</th>
                                <th scope="col ">Category 2</th>
                                <th scope="col">Category Edit</th>
                                <th scope="col">Rate Edit</th>
                            </tr>
                        </thead>
                        <tbody></tbody>

                        {{!-- {{#each data}} --}}

                        <tr>
                            {{!-- <th scope="row">1</th>
                            <td> <input class="form-check-input border-2" type="checkbox" id="flexCheckDefault"
                                    name='selected_row' value="{{outletId}}"></td> --}}
                            {{!-- <td>{{outletId}}</td>
                            <td>{{storeName}}</td>
                            <td>{{storeAddress}}</td> --}}
                            {{!-- <td class="d-flex">
                                <a href="/update/{{outletId}}"><i
                                        class="fa-solid fa-pencil table-icon text-dark"></i></a>
                                <a href="/delete/{{outletId}}" class="mx-2"><i
                                        class="fa-solid fa-trash text-danger delete"></i></a>
                                <a href="#"><i class="fa-solid fa-plus text-dark"></i></a>
                            </td>
                        </tr> --}}
                        {{!-- {{/each}} --}}

                    </table>
                </form>
            </div>
        </div>

    </div>

    <script>
        function showSection(section) {
            const sections = ['general', 'sale', 'text', 'packaging'];

            sections.forEach(function (sec) {
                document.getElementById(sec).style.display = 'none';
            });

            document.getElementById(section).style.display = 'block';
        }
    </script>
    <script>

        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>

    <script>
            $(document).ready(function(){

    const dataTable = $('#product_table').DataTable({
                'processing' : true,
            'serverSide' : true,
            'serverMethod' : 'get',
            'ajax' : {
                'url' : '/productsDetailsList'
    },
            'aaSorting' : [],
            'columns' : [
            {data : 'itemName' },
            {data : 'storeName' },
            {data : 'stock' },
            {data : 'salePrice' },
            {data : 'mrp' },
            {data : 'Cat1' },
            {data : 'Cat2' },
           {
               data: "categoryId",
            'render': function (data, type, row) {
                    return "<a href='/updateCategory/" + data + "'>EDIT</a>";
               }
            },
            {
               data: "itemId",
            'render': function (data, type, row) {
                    return "<a href='/updateProductRaise/" + data + "'>EDIT</a>";
               }
            }

            ]
     
    });

    });

    </script>
</body>

</html>